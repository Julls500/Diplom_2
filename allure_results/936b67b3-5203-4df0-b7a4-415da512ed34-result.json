{"name": "403 Forbidden при запросе на обновлении \"email\" авторизованного пользователя на почту, которая уже используется.", "status": "passed", "description": "Создаем пользователя фикстурой created_user. Создаем еще одного пользователя для получения уже существующего почтового адреса. Создаем payload для обновления \"email\" у created_user с почтой созданного пользователя. Отправлям PATCH запрос на ручку /api/auth/user с accessToken пользователя created_user. Проверяем, что ответ 403 Forbidden и в теле ответа \"message\" \"User with such email already exists\". created_user удаляется из системы фикстурой по accessToken. Созданный пользователь удаляется из системы в конце теста по своему accessToken", "steps": [{"name": "Регистрация пользователя, проверка успешного ответа и возвращение всех известных данных (включая пароль и токены) для дальнейшего использования.", "status": "passed", "steps": [{"name": "Генерация уникальных данных пользователя.", "status": "passed", "start": 1741961840297, "stop": 1741961840300}, {"name": "POST request.", "status": "passed", "steps": [{"name": "Создание header c токеном авторизации.", "status": "passed", "parameters": [{"name": "token", "value": "''"}], "start": 1741961840300, "stop": 1741961840300}], "parameters": [{"name": "path", "value": "'/api/auth/register'"}, {"name": "payload", "value": "{'email': '\"melissa40@example.com\"', 'password': '\"EL68FTIv$F\"', 'name': 'Givdvqev'}"}, {"name": "access_token", "value": "''"}], "start": 1741961840300, "stop": 1741961840519}], "attachments": [{"name": "Пользователь создан", "source": "6fb1cb37-90b8-4fc8-a939-198b86e8451c-attachment.txt", "type": "text/plain"}], "start": 1741961840297, "stop": 1741961840523}, {"name": "PATCH request.", "status": "passed", "steps": [{"name": "Создание header c токеном авторизации.", "status": "passed", "parameters": [{"name": "token", "value": "'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZDQzOWRmOWVkMjgwMDAxYjU5Yjg5YiIsImlhdCI6MTc0MTk2MTY5NSwiZXhwIjoxNzQxOTYyODk1fQ.D3oK7BgN5sMY94Se2fm320zG5HYfY38J2jPvqOGUVKc'"}], "start": 1741961840524, "stop": 1741961840524}], "parameters": [{"name": "path", "value": "'/api/auth/user'"}, {"name": "access_token", "value": "'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZDQzOWRmOWVkMjgwMDAxYjU5Yjg5YiIsImlhdCI6MTc0MTk2MTY5NSwiZXhwIjoxNzQxOTYyODk1fQ.D3oK7BgN5sMY94Se2fm320zG5HYfY38J2jPvqOGUVKc'"}, {"name": "payload", "value": "{'email': '\"melissa40@example.com\"'}"}], "start": 1741961840523, "stop": 1741961840684}, {"name": "Удаление пользователя и проверка успешного ответа.", "status": "passed", "steps": [{"name": "DELETE request.", "status": "passed", "steps": [{"name": "Создание header c токеном авторизации.", "status": "passed", "parameters": [{"name": "token", "value": "'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZDQzOWRmOWVkMjgwMDAxYjU5Yjg5ZCIsImlhdCI6MTc0MTk2MTY5NSwiZXhwIjoxNzQxOTYyODk1fQ.wJCpu42YgBenAH31OUph73FfjMmcFVIBEl0hk0MB7MY'"}], "start": 1741961840684, "stop": 1741961840685}], "parameters": [{"name": "path", "value": "'/api/auth/user'"}, {"name": "access_token", "value": "'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZDQzOWRmOWVkMjgwMDAxYjU5Yjg5ZCIsImlhdCI6MTc0MTk2MTY5NSwiZXhwIjoxNzQxOTYyODk1fQ.wJCpu42YgBenAH31OUph73FfjMmcFVIBEl0hk0MB7MY'"}], "start": 1741961840684, "stop": 1741961841260}], "attachments": [{"name": "Пользователь удален", "source": "fb0d0cde-0be6-44e9-86e7-576979fe9228-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "access_token", "value": "'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZDQzOWRmOWVkMjgwMDAxYjU5Yjg5ZCIsImlhdCI6MTc0MTk2MTY5NSwiZXhwIjoxNzQxOTYyODk1fQ.wJCpu42YgBenAH31OUph73FfjMmcFVIBEl0hk0MB7MY'"}], "start": 1741961840684, "stop": 1741961841262}], "start": 1741961840296, "stop": 1741961841263, "uuid": "e7112b54-df33-42e1-90b3-56988be26d33", "historyId": "05c37fe28348794ba1e7b84b4de1de84", "testCaseId": "05c37fe28348794ba1e7b84b4de1de84", "fullName": "tests.test_change_user_data.TestChangeUserData#test_change_user_data_existing_email_user_authorized_shows_error_403", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_change_user_data"}, {"name": "subSuite", "value": "TestChangeUserData"}, {"name": "host", "value": "k-julls"}, {"name": "thread", "value": "40252-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_change_user_data"}]}